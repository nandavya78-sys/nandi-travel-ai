<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Nandi Travel AI</title>
<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    background:#0b1220;
    color:white;
}
header{
    padding:14px 20px;
    font-size:20px;
    border-bottom:1px solid #1f2937;
}
#chat{
    max-width:900px;
    margin:40px auto 120px;
}
.message{
    background:#111827;
    padding:16px;
    border-radius:10px;
    margin-bottom:14px;
}
.controls{
    display:flex;
    gap:10px;
    margin-bottom:20px;
}
button{
    padding:8px 14px;
    border:none;
    border-radius:6px;
    cursor:pointer;
}
.primary{background:#2563eb;color:white}
.secondary{background:#374151;color:white}

.form{
    display:none;
    background:#020617;
    padding:16px;
    border-radius:10px;
    margin-bottom:20px;
}
input,select{
    padding:8px;
    border-radius:6px;
    border:none;
}

.results{
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
    gap:16px;
}

.card{
    background:white;
    color:black;
    padding:14px;
    border-radius:10px;
}

footer{
    position:fixed;
    bottom:0;
    width:100%;
    background:#020617;
    padding:12px;
    display:flex;
    gap:10px;
}
footer input{
    flex:1;
}

#plus{
    position:fixed;
    bottom:80px;
    left:20px;
    background:#2563eb;
    width:48px;
    height:48px;
    border-radius:50%;
    font-size:24px;
    color:white;
}
#plusMenu{
    position:fixed;
    bottom:140px;
    left:20px;
    display:none;
    flex-direction:column;
    gap:8px;
}
</style>
</head>

<body>

<header>‚úàÔ∏è Nandi Travel AI</header>

<div id="chat">
    <div class="message">Hi üëã How can I help you today?</div>

    <div id="flightForm" class="form">
        <h3>Flights</h3>
        <input placeholder="From city">
        <input placeholder="To city">
        <input type="date">
        <input type="date">
        <select>
            <option>Economy</option>
            <option>Business</option>
            <option>First</option>
        </select>
        <button class="primary" onclick="loadFlights()">Search Flights</button>
    </div>

    <div id="hotelForm" class="form">
        <h3>Hotels</h3>
        <input placeholder="City">
        <select>
            <option>3 Star</option>
            <option>4 Star</option>
            <option>5 Star</option>
        </select>
        <button class="primary" onclick="loadHotels()">Search Hotels</button>
    </div>

    <div class="controls">
        <button class="secondary" onclick="toggleFare('public')">Public Fare</button>
        <button class="secondary" onclick="toggleFare('corporate')">Corporate Fare</button>
        <button class="secondary" onclick="exportPDF()">Export PDF</button>
    </div>

    <div id="results" class="results"></div>
</div>

<div id="plusMenu">
    <button onclick="showFlights()">‚úà Flights</button>
    <button onclick="showHotels()">üè® Hotels</button>
</div>

<button id="plus" onclick="togglePlus()">+</button>

<footer>
    <input placeholder="Ask me about flights or hotels">
    <button class="primary">Send</button>
</footer>

<script>
let fareMode="public";

function togglePlus(){
    let m=document.getElementById("plusMenu");
    m.style.display=m.style.display==="flex"?"none":"flex";
}

function showFlights(){
    document.getElementById("flightForm").style.display="block";
    document.getElementById("hotelForm").style.display="none";
    document.getElementById("plusMenu").style.display="none";
}
function showHotels(){
    document.getElementById("hotelForm").style.display="block";
    document.getElementById("flightForm").style.display="none";
    document.getElementById("plusMenu").style.display="none";
}

function toggleFare(f){
    fareMode=f;
}

function loadFlights(){
fetch("/flights").then(r=>r.json()).then(data=>{
    let out="";
    data.forEach(f=>{
        let price=fareMode==="public"?f.public:f.corporate;
        out+=`
        <div class="card">
            <b>${f.airline}</b><br>
            ${f.stops} | ${f.class}<br><br>
            ‚Çπ${price}<br>
            GST ‚Çπ${f.gst}
        </div>`;
    });
    document.getElementById("results").innerHTML=out;
});
}

function loadHotels(){
fetch("/hotels").then(r=>r.json()).then(data=>{
    let out="";
    data.forEach(h=>{
        out+=`
        <div class="card">
            <b>${h.name}</b><br>
            ‚≠ê ${h.stars}<br>
            ${h.distance} km<br><br>
            ‚Çπ${h.price}
        </div>`;
    });
    document.getElementById("results").innerHTML=out;
});
}

function exportPDF(){
    alert("Demo: PDF export hooked (next step)");
}
</script>

</body>
</html>
