<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Nandi‚Äôs Travel AI (Demo)</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
body {
  margin: 0;
  font-family: system-ui;
  background: #0b1020;
  color: #e5e7eb;
}

header {
  padding: 12px;
  text-align: center;
  font-size: 18px;
  font-weight: 600;
  background: #020617;
}

#chat {
  padding: 14px;
}

.bot, .user {
  max-width: 85%;
  padding: 10px 12px;
  border-radius: 12px;
  margin-bottom: 10px;
}

.bot { background: #111827; }
.user { background: #2563eb; margin-left: auto; }

.controls, .input-bar {
  display: flex;
  gap: 6px;
  padding: 10px;
}

button {
  background: #2563eb;
  color: white;
  border: none;
  padding: 8px 12px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 14px;
}

input, select {
  padding: 8px;
  border-radius: 8px;
  border: none;
  font-size: 14px;
}

.form { display: none; padding: 10px; }

.row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px,1fr));
  gap: 6px;
}

.card {
  background: #ffffff;
  color: #020617;
  border-radius: 12px;
  padding: 12px;
  margin-top: 10px;
}

.meta { font-size: 13px; color: #475569; }
.price { font-weight: 700; margin-top: 4px; }

.public { color: #0ea5e9; }
.corporate { color: #16a34a; }

.toggle {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 14px;
}

/* Support chat */
#supportBtn {
  position: fixed;
  bottom: 16px;
  right: 16px;
  background: #16a34a;
}

#supportChat {
  position: fixed;
  bottom: 70px;
  right: 16px;
  width: 260px;
  background: #020617;
  border-radius: 12px;
  padding: 10px;
  display: none;
}
</style>
</head>

<body>

<header>Nandi‚Äôs Travel AI (Demo)</header>

<div id="chat">
  <div class="bot">Hi there üëã How can I help you today?</div>
</div>

<div class="controls">
  <button onclick="openFlights()">‚úà Flights</button>
  <button onclick="openHotels()">üè® Hotels</button>

  <div class="toggle">
    <input type="checkbox" id="corpToggle" onchange="toggleFare()" />
    Corporate Fare
  </div>
</div>

<!-- FLIGHTS -->
<div id="flightsForm" class="form">
  <div class="row">
    <input placeholder="From" />
    <input placeholder="To" />
    <input type="date" />
    <input type="date" />
  </div>
  <button onclick="searchFlights()">Search Flights</button>
</div>

<!-- HOTELS -->
<div id="hotelsForm" class="form">
  <div class="row">
    <input placeholder="City" />
    <input type="date" />
    <input type="date" />
  </div>
  <button onclick="searchHotels()">Search Hotels</button>
</div>

<div class="input-bar">
  <input id="msg" placeholder="Type a message‚Ä¶" onkeydown="if(event.key==='Enter')sendMsg()" />
  <button onclick="sendMsg()">Send</button>
</div>

<!-- Support -->
<button id="supportBtn" onclick="toggleSupport()">Customer Support</button>

<div id="supportChat">
  <div class="bot">Support: Hi üëã How can I assist you?</div>
  <input id="supportMsg" placeholder="Type here‚Ä¶" onkeydown="if(event.key==='Enter')supportReply()" />
</div>

<script>
let corporate = false;

function addBot(html){chat.innerHTML+=`<div class="bot">${html}</div>`;}
function addUser(t){chat.innerHTML+=`<div class="user">${t}</div>`;}

function openFlights(){
  flightsForm.style.display="block";
  hotelsForm.style.display="none";
  addBot("Please enter flight details ‚úàÔ∏è");
}

function openHotels(){
  hotelsForm.style.display="block";
  flightsForm.style.display="none";
  addBot("Please enter hotel details üè®");
}

function sendMsg(){
  if(!msg.value) return;
  addUser(msg.value);
  addBot("Got it üëç");
  msg.value="";
}

function toggleFare(){
  corporate = corpToggle.checked;
  addBot(corporate ? "Corporate fares enabled üü¢" : "Public fares enabled üîµ");
}

/* Demo data */
const flights=[
 {airline:"Air India",route:"BLR ‚Üí LHR",base:26000,gst:1300},
 {airline:"British Airways",route:"BLR ‚Üí LHR",base:29000,gst:1450}
];

function searchFlights(){
  flights.forEach(f=>{
    const total = corporate ? f.base+f.gst : f.base+3000;
    addBot(`
      <div class="card">
        <b>${f.airline}</b>
        <div class="meta">${f.route}</div>
        ${corporate ? `
          <div class="price corporate">Base: ‚Çπ${f.base}</div>
          <div class="meta">GST: ‚Çπ${f.gst}</div>
        ` : ``}
        <div class="price ${corporate?"corporate":"public"}">Total: ‚Çπ${total}</div>
        <button onclick="exportItinerary('${f.airline}','${total}')">Export Itinerary</button>
      </div>
    `);
  });
}

/* Export */
function exportItinerary(name, price){
  const text = `Itinerary\n\nAirline: ${name}\nPrice: ‚Çπ${price}\nThank you`;
  const blob = new Blob([text],{type:"text/plain"});
  const a = document.createElement("a");
  a.href = URL.createObjectURL(blob);
  a.download = "itinerary.txt";
  a.click();
}

/* Support */
function toggleSupport(){
  supportChat.style.display = supportChat.style.display==="block"?"none":"block";
}

function supportReply(){
  supportChat.innerHTML+=`<div class="bot">Support: We‚Äôre checking this for you üòä</div>`;
  supportMsg.value="";
}
</script>

</body>
</html>
