<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Nandi Travel AI</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin:0;
  background:#0b1020;
  color:#fff;
  font-family:system-ui;
}
header {
  padding:14px 20px;
  font-weight:600;
}
#chatArea {
  max-width:900px;
  margin:auto;
  padding:20px;
  padding-bottom:140px;
}
.msg { margin:12px 0; }
.user { text-align:right; }
.bot { opacity:.9; line-height:1.5; }

#inputBar {
  position:fixed;
  bottom:0;
  left:0;
  right:0;
  background:#0b1020;
  padding:10px;
  display:flex;
  gap:6px;
}
#chatInput { flex:1; padding:10px; }

button { cursor:pointer; padding:8px 12px; }

#toolMenu {
  display:none;
  margin:15px 0;
}
#toolMenu button {
  margin-right:8px;
}

.panel {
  display:none;
  background:#111;
  padding:15px;
  margin:15px 0;
}

.card {
  background:#fff;
  color:#000;
  padding:10px;
  margin:10px 0;
}

#cart {
  background:#111;
  padding:15px;
  margin-top:20px;
}
</style>
</head>

<body>

<header>‚úà Nandi Travel AI</header>

<div id="chatArea">
  <div class="msg bot">
    Hi üëã I‚Äôm your travel assistant.  
    You can chat naturally, or click **+** to search flights and hotels.
  </div>

  <div id="toolMenu">
    <button onclick="openFlights()">‚úà Flights</button>
    <button onclick="openHotels()">üè® Hotels</button>
  </div>

  <!-- FLIGHT SEARCH -->
  <div id="flightPanel" class="panel">
    <h3>Search Flights</h3>
    <input placeholder="From city"><br><br>
    <input placeholder="To city"><br><br>
    <select>
      <option>Economy</option>
      <option>Business</option>
      <option>First</option>
    </select>
    <br><br>
    <button onclick="showFlights()">Search Flights</button>
    <div id="flightResults"></div>
  </div>

  <!-- HOTEL SEARCH -->
  <div id="hotelPanel" class="panel">
    <h3>Search Hotels</h3>
    <input placeholder="City"><br><br>
    <select>
      <option>3 Star</option>
      <option>4 Star</option>
      <option>5 Star</option>
    </select>
    <br><br>
    <button onclick="showHotels()">Search Hotels</button>
    <div id="hotelResults"></div>
  </div>

  <!-- CART -->
  <div id="cart">
    <h3>üõí Itinerary</h3>
    <div id="cartItems">No items added</div><br>
    <button onclick="saveDraft()">Save Draft</button>
    <button onclick="loadDraft()">Load Draft</button>
    <button onclick="exportPDF()">Export PDF</button>
  </div>
</div>

<div id="inputBar">
  <button id="plusBtn">+</button>
  <input id="chatInput" placeholder="Type your message‚Ä¶">
  <button onclick="sendMsg()">Send</button>
</div>

<script>
const chatArea = document.getElementById("chatArea");
const toolMenu = document.getElementById("toolMenu");
const flightPanel = document.getElementById("flightPanel");
const hotelPanel = document.getElementById("hotelPanel");
const cartItems = document.getElementById("cartItems");
let cart = [];

function botReply(text){
  const d=document.createElement("div");
  d.className="msg bot";
  d.innerText=text;
  chatArea.insertBefore(d, toolMenu);
}

function userMsg(text){
  const d=document.createElement("div");
  d.className="msg user";
  d.innerText=text;
  chatArea.insertBefore(d, toolMenu);
}

function sendMsg(){
  const i=document.getElementById("chatInput");
  if(!i.value) return;
  userMsg(i.value);
  botReply(
    "Got it üëç\n\n" +
    "You can:\n" +
    "‚Ä¢ Click + to search Flights or Hotels\n" +
    "‚Ä¢ Add results to your itinerary\n" +
    "‚Ä¢ Export everything as PDF\n\n" +
    "Tell me what you‚Äôd like to do next."
  );
  i.value="";
}

document.getElementById("plusBtn").onclick=()=>{
  toolMenu.style.display = toolMenu.style.display==="block"?"none":"block";
};

function openFlights(){
  toolMenu.style.display="none";
  flightPanel.style.display="block";
  hotelPanel.style.display="none";
  botReply("Let‚Äôs search flights ‚úà Please fill the details and click Search.");
}

function openHotels(){
  toolMenu.style.display="none";
  hotelPanel.style.display="block";
  flightPanel.style.display="none";
  botReply("Sure! Let‚Äôs find hotels üè®");
}

function showFlights(){
  const r=document.getElementById("flightResults");
  r.innerHTML="";
  ["Air India","IndiGo","Vistara","Akasa","British Airways","Lufthansa"]
  .forEach(a=>{
    r.innerHTML+=`
      <div class="card">
        ${a} ‚Äì ‚Çπ25,000 (GST incl)
        <button onclick="addCart('Flight: ${a}')">Add</button>
      </div>`;
  });
}

function showHotels(){
  const r=document.getElementById("hotelResults");
  r.innerHTML="";
  ["Taj","ITC","Marriott","Hyatt","Hilton","Novotel"]
  .forEach(h=>{
    r.innerHTML+=`
      <div class="card">
        ${h} ‚Äì ‚Çπ6,000 / night
        <button onclick="addCart('Hotel: ${h}')">Add</button>
      </div>`;
  });
}

function addCart(item){
  cart.push(item);
  renderCart();
}

function renderCart(){
  cartItems.innerHTML = cart.length
    ? cart.map(i=>"‚Ä¢ "+i).join("<br>")
    : "No items added";
}

function saveDraft(){
  localStorage.setItem("nandiDraft",JSON.stringify(cart));
  botReply("‚úÖ Draft saved.");
}

function loadDraft(){
  const d=localStorage.getItem("nandiDraft");
  if(d){ cart=JSON.parse(d); renderCart(); }
}

function exportPDF(){
  const w=window.open("");
  w.document.write("<h1>Nandi Travel AI ‚Äì Itinerary</h1>");
  cart.forEach(i=>w.document.write("<p>"+i+"</p>"));
  w.document.write("<p>GST Included</p>");
  w.print();
}
</script>

</body>
</html>
