<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Nandi Travel AI</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
body {
  margin:0;
  font-family: Arial, sans-serif;
  background:#020617;
  color:white;
}

header {
  padding:12px 20px;
  border-bottom:1px solid #1f2937;
}

.main {
  padding:16px;
  max-width:900px;
  margin:auto;
}

.chat {
  border:1px solid #1f2937;
  border-radius:10px;
  padding:12px;
  margin-bottom:16px;
}

.chat-log {
  min-height:120px;
  margin-bottom:10px;
}

.chat-input {
  display:flex;
  gap:8px;
}

.chat-input input {
  flex:1;
  padding:10px;
  border-radius:6px;
  border:none;
}

.chat-input button {
  padding:10px 14px;
  border:none;
  border-radius:6px;
  background:#2563eb;
  color:white;
}

.section {
  display:none;
  border:1px solid #1f2937;
  border-radius:10px;
  padding:14px;
  margin-bottom:16px;
}

input, select {
  height:38px;
  padding:6px 8px;
  border-radius:6px;
  border:none;
}

.filters {
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  margin-bottom:10px;
}

.result {
  background:white;
  color:black;
  border-radius:8px;
  padding:12px;
  margin-top:10px;
}

.actions {
  margin-top:10px;
  display:flex;
  gap:8px;
}

.plus {
  position:fixed;
  bottom:20px;
  left:20px;
  width:46px;
  height:46px;
  border-radius:50%;
  background:#2563eb;
  color:white;
  font-size:24px;
  border:none;
}
</style>
</head>

<body>

<header>‚úàÔ∏è Nandi Travel AI</header>

<div class="main">

<!-- CHAT -->
<div class="chat">
  <div class="chat-log" id="chatLog">
    Hi üëã How can I help you today?
  </div>
  <div class="chat-input">
    <input id="chatInput" placeholder="Ask me about flights or hotels">
    <button onclick="sendChat()">Send</button>
  </div>
</div>

<!-- FLIGHTS -->
<div id="flights" class="section">
<h3>Flights</h3>

<div class="filters">
<input placeholder="From city">
<input placeholder="To city">
<input type="date">
<input type="date">

<select>
<option>Economy</option>
<option>Business</option>
<option>First Class</option>
</select>

<select>
<option>Non-stop</option>
<option>1 Stop</option>
</select>

<input type="range" min="10000" max="100000" step="1000" id="price">
</div>

<button onclick="searchFlight()">Search Flights</button>

<div id="flightResult"></div>

<div class="actions">
<button onclick="toggleFare()">Public ‚Üî Corporate</button>
<button onclick="exportPDF()">Export PDF</button>
<button onclick="saveDraft()">Save Draft</button>
<button onclick="loadDraft()">Load Draft</button>
</div>
</div>

<!-- HOTELS -->
<div id="hotels" class="section">
<h3>Hotels</h3>
<p>Hotel flow placeholder (locked for next phase)</p>
</div>

</div>

<button class="plus" onclick="plusClick()">+</button>

<script>
let toggle = "flights";

function plusClick() {
  if (toggle === "flights") {
    showSection("flights");
    toggle = "hotels";
  } else {
    showSection("hotels");
    toggle = "flights";
  }
}

function showSection(id){
 document.getElementById("flights").style.display="none";
 document.getElementById("hotels").style.display="none";
 document.getElementById(id).style.display="block";
}

function sendChat(){
 const v=chatInput.value.trim();
 if(!v) return;
 chatLog.innerHTML+=`<div><b>You:</b> ${v}</div>`;
 chatLog.innerHTML+=`<div><b>AI:</b> Sure üëç Click + to start booking.</div>`;
 chatInput.value="";
}

function searchFlight(){
 const p=prices[fare];
 flightResult.innerHTML=`
 <div class="result">
 <b>Air India</b><br>
 ‚Çπ${p.base+p.gst}<br>
 <small>Base ‚Çπ${p.base} + GST ‚Çπ${p.gst}</small>
 </div>`;
}

function toggleFare(){
 fare = fare==="public" ? "corporate" : "public";
 searchFlight();
}

function exportPDF(){
 const {jsPDF}=window.jspdf;
 const pdf=new jsPDF();
 const p=prices[fare];
 pdf.text("Nandi Travel AI ‚Äì Itinerary",20,20);
 pdf.text(`Fare: ${fare}`,20,35);
 pdf.text(`Base: ‚Çπ${p.base}`,20,45);
 pdf.text(`GST: ‚Çπ${p.gst}`,20,55);
 pdf.text(`Total: ‚Çπ${p.base+p.gst}`,20,65);
 pdf.save("nandi-itinerary.pdf");
}

function saveDraft(){
 localStorage.setItem("fare",fare);
 alert("Draft saved");
}

function loadDraft(){
 const d=localStorage.getItem("fare");
 if(d){fare=d;searchFlight();}
}
</script>

</body>
</html>

