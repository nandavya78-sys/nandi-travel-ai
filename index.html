<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Nandi Travel AI</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  background:#0b1020;
  color:#fff;
  font-family:system-ui;
}
header{
  padding:14px;
  font-weight:600;
}
.container{
  display:flex;
  height:calc(100vh - 52px);
}
#main{
  flex:1;
  display:flex;
  flex-direction:column;
}
#cart{
  width:320px;
  background:#111;
  padding:14px;
  overflow:auto;
  border-left:1px solid #222;
}
#cart h3{margin-top:0}

#chatArea{
  flex:1;
  padding:18px;
  overflow:auto;
}
.msg{margin:10px 0}
.user{text-align:right}
.bot{opacity:.9;line-height:1.5}

#inputBar{
  display:flex;
  gap:6px;
  padding:10px;
  background:#0b1020;
}
#chatInput{flex:1;padding:10px}

button{
  padding:6px 10px;
  cursor:pointer;
}
.card{
  background:#fff;
  color:#000;
  padding:12px;
  margin:10px 0;
  border-radius:6px;
}
.panel{
  display:none;
  background:#111;
  padding:14px;
  margin:10px 0;
  border-radius:8px;
}

#plusBtn{
  position:fixed;
  bottom:80px;
  left:20px;
  width:46px;
  height:46px;
  border-radius:50%;
  font-size:22px;
}
#toolMenu{
  position:fixed;
  bottom:140px;
  left:20px;
  display:none;
  background:#111;
  padding:10px;
  border-radius:8px;
}
#toolMenu button{
  display:block;
  width:100%;
  margin-bottom:6px;
}
</style>
</head>

<body>

<header>‚úà Nandi Travel AI</header>

<div class="container">

<div id="main">

<div id="chatArea">
  <div class="msg bot">
    Hi üëã I‚Äôm your travel assistant.<br><br>
    Click <b>+</b> to search Flights or Hotels, add them to your itinerary, and export a full PDF.
  </div>

  <!-- FLIGHTS -->
  <div id="flightPanel" class="panel">
    <h3>‚úà Flight Search</h3>
    <input placeholder="From city"><br><br>
    <input placeholder="To city"><br><br>
    <input type="date"><br><br>
    <input type="date"><br><br>
    <select>
      <option>Economy</option>
      <option>Business</option>
      <option>First</option>
    </select><br><br>
    <button onclick="showFlights()">Search Flights</button>
    <div id="flightResults"></div>
  </div>

  <!-- HOTELS -->
  <div id="hotelPanel" class="panel">
    <h3>üè® Hotel Search</h3>
    <input placeholder="City"><br><br>
    <input type="date"><br><br>
    <input type="date"><br><br>
    <select>
      <option>3 Star</option>
      <option>4 Star</option>
      <option>5 Star</option>
    </select><br><br>
    <button onclick="showHotels()">Search Hotels</button>
    <div id="hotelResults"></div>
  </div>

</div>

<div id="inputBar">
  <input id="chatInput" placeholder="Type your message‚Ä¶">
  <button onclick="sendMsg()">Send</button>
</div>

</div>

<!-- CART -->
<div id="cart">
  <h3>üõí Itinerary</h3>
  <div id="cartItems">No items added</div><br>
  <button onclick="saveDraft()">Save Draft</button>
  <button onclick="loadDraft()">Load Draft</button>
  <button onclick="exportPDF()">Export PDF</button>
</div>

</div>

<button id="plusBtn">+</button>
<div id="toolMenu">
  <button onclick="openFlights()">Flights</button>
  <button onclick="openHotels()">Hotels</button>
</div>

<script>
const chatArea=document.getElementById("chatArea");
const cartItems=document.getElementById("cartItems");
const flightPanel=document.getElementById("flightPanel");
const hotelPanel=document.getElementById("hotelPanel");
const toolMenu=document.getElementById("toolMenu");

let cart=[];

function botReply(t){
  const d=document.createElement("div");
  d.className="msg bot";
  d.innerHTML=t.replace(/\n/g,"<br>");
  chatArea.appendChild(d);
  chatArea.scrollTop=chatArea.scrollHeight;
}

function sendMsg(){
  const i=document.getElementById("chatInput");
  if(!i.value) return;
  chatArea.innerHTML+=`<div class="msg user">${i.value}</div>`;
  botReply("Got it üëç\nYou can search flights or hotels using the + button.");
  i.value="";
}

document.getElementById("plusBtn").onclick=()=>{
  toolMenu.style.display=toolMenu.style.display==="block"?"none":"block";
};

function openFlights(){
  toolMenu.style.display="none";
  flightPanel.style.display="block";
  hotelPanel.style.display="none";
}
function openHotels(){
  toolMenu.style.display="none";
  hotelPanel.style.display="block";
  flightPanel.style.display="none";
}

function showFlights(){
  const r=document.getElementById("flightResults");
  r.innerHTML="";
  for(let i=1;i<=6;i++){
    const item={
      type:"Flight",
      title:`Air India AI10${i}`,
      details:`BLR ‚Üí DEL | Non-stop | A320`,
      dates:"10 Mar 2026 ‚Äì 10 Mar 2026",
      base:24000,
      gst:1200,
      total:25200
    };
    r.innerHTML+=`
      <div class="card">
        <b>${item.title}</b><br>
        ${item.details}<br>
        Date: ${item.dates}<br>
        Base ‚Çπ${item.base} + GST ‚Çπ${item.gst}<br>
        <b>Total ‚Çπ${item.total}</b><br>
        <button onclick='addCart(${JSON.stringify(item)})'>Add to Cart</button>
      </div>`;
  }
}

function showHotels(){
  const r=document.getElementById("hotelResults");
  r.innerHTML="";
  for(let i=1;i<=6;i++){
    const item={
      type:"Hotel",
      title:`Taj Palace Room ${i}`,
      details:`5‚òÖ | Deluxe Room | Connaught Place, Delhi`,
      dates:"10 Mar 2026 ‚Äì 12 Mar 2026",
      base:8000,
      gst:960,
      total:8960
    };
    r.innerHTML+=`
      <div class="card">
        <b>${item.title}</b><br>
        ${item.details}<br>
        Stay: ${item.dates}<br>
        Base ‚Çπ${item.base} + GST ‚Çπ${item.gst}<br>
        <b>Total ‚Çπ${item.total}</b><br>
        <button onclick='addCart(${JSON.stringify(item)})'>Add to Cart</button>
      </div>`;
  }
}

function addCart(i){
  cart.push(i);
  renderCart();
}

function renderCart(){
  cartItems.innerHTML=cart.length?cart.map(i=>
    `<div><b>${i.type}</b><br>${i.title}<br>${i.details}<br>${i.dates}<br>Total ‚Çπ${i.total}</div><hr>`
  ).join(""):"No items added";
}

function saveDraft(){
  localStorage.setItem("nandiDraft",JSON.stringify(cart));
  botReply("Draft saved successfully ‚úÖ");
}

function loadDraft(){
  const d=localStorage.getItem("nandiDraft");
  if(d){cart=JSON.parse(d);renderCart();}
}

function exportPDF(){
  const w=window.open("");
  w.document.write("<h1>Nandi Travel AI ‚Äì Itinerary</h1>");
  cart.forEach(i=>{
    w.document.write(`<p><b>${i.type}</b><br>${i.title}<br>${i.details}<br>${i.dates}<br>Total ‚Çπ${i.total}</p>`);
  });
  w.document.write("<p>GST Included</p>");
  w.print();
}
</script>

</body>
</html>
