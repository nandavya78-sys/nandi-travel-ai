<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Nandi‚Äôs Travel AI (Demo)</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
body {
  margin: 0;
  font-family: system-ui;
  background: #0b1020;
  color: #e5e7eb;
}

header {
  padding: 14px;
  text-align: center;
  font-size: 20px;
  font-weight: 600;
  background: #020617;
}

#chat {
  padding: 16px;
  min-height: 45vh;
}

.bot, .user {
  max-width: 85%;
  padding: 12px 14px;
  border-radius: 14px;
  margin-bottom: 12px;
}

.bot {
  background: #111827;
}

.user {
  background: #2563eb;
  margin-left: auto;
}

.controls, .input-bar {
  display: flex;
  gap: 8px;
  padding: 12px;
}

button {
  background: #2563eb;
  color: white;
  border: none;
  padding: 10px 14px;
  border-radius: 10px;
  cursor: pointer;
}

input, select {
  padding: 10px;
  border-radius: 10px;
  border: none;
  width: 100%;
}

.form {
  display: none;
  padding: 12px;
}

.filters {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px,1fr));
  gap: 8px;
  margin-top: 8px;
}

.card {
  background: #ffffff;
  color: #020617;
  border-radius: 14px;
  padding: 14px;
  margin-top: 14px;
}

.card h4 {
  margin: 0 0 6px;
}

.meta {
  font-size: 14px;
  color: #475569;
}

.price {
  margin-top: 6px;
  font-size: 18px;
  font-weight: 700;
  color: #0ea5e9;
}

.loading {
  font-style: italic;
  opacity: 0.8;
}

/* Mobile polish */
@media (max-width: 600px) {
  .bot, .user { max-width: 95%; }
}
</style>
</head>

<body>

<header>Nandi‚Äôs Travel AI (Demo)</header>

<div id="chat">
  <div class="bot">Hi there üëã How can I help you today?</div>
</div>

<div class="controls">
  <button onclick="openFlights()">‚úà Flights</button>
  <button onclick="openHotels()">üè® Hotels</button>
</div>

<!-- FLIGHTS -->
<div id="flightsForm" class="form">
  <input placeholder="From city" />
  <input placeholder="To city" />
  <input type="date" />

  <div class="filters">
    <select id="flightStops">
      <option value="">Any stops</option>
      <option>Non-stop</option>
      <option>1 Stop</option>
    </select>

    <input id="flightPrice" type="number" placeholder="Max price" />
  </div>

  <button onclick="searchFlights()">Search Flights</button>
</div>

<!-- HOTELS -->
<div id="hotelsForm" class="form">
  <input placeholder="City" />
  <input type="date" />
  <input type="date" />

  <div class="filters">
    <select id="hotelStars">
      <option value="">Any stars</option>
      <option value="3">3‚òÖ</option>
      <option value="4">4‚òÖ</option>
      <option value="5">5‚òÖ</option>
    </select>

    <select id="hotelDistance">
      <option value="">Any distance</option>
      <option value="5">1‚Äì5 miles</option>
      <option value="10">5‚Äì10 miles</option>
      <option value="20">10‚Äì20 miles</option>
      <option value="30">20‚Äì30 miles</option>
    </select>

    <input id="hotelPrice" type="number" placeholder="Max / night" />
  </div>

  <button onclick="searchHotels()">Search Hotels</button>
</div>

<div class="input-bar">
  <input id="msg" placeholder="Type a message‚Ä¶" onkeydown="if(event.key==='Enter')sendMsg()" />
  <button onclick="sendMsg()">Send</button>
</div>

<script>
function addBot(html) {
  chat.innerHTML += `<div class="bot">${html}</div>`;
  chat.scrollTop = chat.scrollHeight;
}

function addUser(text) {
  chat.innerHTML += `<div class="user">${text}</div>`;
  chat.scrollTop = chat.scrollHeight;
}

function openFlights() {
  flightsForm.style.display = "block";
  hotelsForm.style.display = "none";
  addBot("Sure ‚úàÔ∏è Please enter your flight details.");
}

function openHotels() {
  hotelsForm.style.display = "block";
  flightsForm.style.display = "none";
  addBot("Got it üè® Please enter hotel details.");
}

function sendMsg() {
  if (!msg.value) return;
  const text = msg.value.toLowerCase();
  addUser(msg.value);
  msg.value = "";

  if (["hi","hello","hey"].includes(text)) {
    addBot("Hello üòä What are you planning today?");
  } else if (text.includes("flight")) {
    addBot("I can help with flights ‚úàÔ∏è Click the Flights button.");
  } else if (text.includes("hotel")) {
    addBot("Looking for hotels üè® Click the Hotels button.");
  } else {
    addBot("Sure üëç Tell me what you‚Äôre looking for.");
  }
}

/* Demo data */
const flights = [
  {airline:"Air India", route:"BLR ‚Üí LHR", stops:"Non-stop", price:28400},
  {airline:"British Airways", route:"BLR ‚Üí LHR", stops:"1 Stop", price:31800},
  {airline:"Lufthansa", route:"BLR ‚Üí LHR", stops:"1 Stop", price:34600}
];

const hotels = [
  {name:"The Ritz London", stars:5, price:42000, distance:2},
  {name:"Park Plaza Westminster", stars:4, price:18500, distance:6},
  {name:"Premier Inn City", stars:3, price:9200, distance:12}
];

function searchFlights() {
  addBot('<span class="loading">Searching flights‚Ä¶</span>');
  setTimeout(() => {
    const max = flightPrice.value;
    const stop = flightStops.value;

    flights
      .filter(f => (!max || f.price <= max) && (!stop || f.stops === stop))
      .forEach(f => {
        addBot(`
          <div class="card">
            <h4>${f.airline}</h4>
            <div class="meta">${f.route} ‚Ä¢ ${f.stops}</div>
            <div class="price">‚Çπ${f.price}</div>
          </div>
        `);
      });
  }, 800);
}

function searchHotels() {
  addBot('<span class="loading">Finding hotels‚Ä¶</span>');
  setTimeout(() => {
    const max = hotelPrice.value;
    const stars = hotelStars.value;
    const dist = hotelDistance.value;

    hotels
      .filter(h =>
        (!max || h.price <= max) &&
        (!stars || h.stars == stars) &&
        (!dist || h.distance <= dist)
      )
      .forEach(h => {
        addBot(`
          <div class="card">
            <h4>${h.name}</h4>
            <div class="meta">${h.stars}‚òÖ ‚Ä¢ ${h.distance} miles from center</div>
            <div class="price">‚Çπ${h.price} / night</div>
          </div>
        `);
      });
  }, 800);
}
</script>

</body>
</html>
