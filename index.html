<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Nandi Travel AI</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  background:#0b1020;
  color:#fff;
  font-family:system-ui;
}
header{
  padding:12px 16px;
  font-weight:600;
}
.container{
  display:flex;
  height:calc(100vh - 48px);
}
#cart{
  width:260px;
  background:#111;
  padding:12px;
  overflow:auto;
}
#cart h3{margin-top:0}
#main{
  flex:1;
  display:flex;
  flex-direction:column;
}
#chatArea{
  flex:1;
  padding:20px;
  overflow:auto;
}
.msg{margin:10px 0}
.user{text-align:right}
.bot{opacity:.9;line-height:1.5}

#inputBar{
  display:flex;
  gap:6px;
  padding:10px;
  background:#0b1020;
}
#chatInput{flex:1;padding:10px}

button{padding:6px 10px;cursor:pointer}

#plusBtn{
  position:fixed;
  bottom:80px;
  left:20px;
  border-radius:50%;
  width:46px;
  height:46px;
  font-size:22px;
}

#toolMenu{
  position:fixed;
  bottom:140px;
  left:20px;
  display:none;
  background:#111;
  padding:8px;
  border-radius:8px;
}
#toolMenu button{
  display:block;
  width:100%;
  margin-bottom:6px;
}

.panel{
  display:none;
  background:#111;
  padding:14px;
  margin:12px 0;
}

.card{
  background:#fff;
  color:#000;
  padding:10px;
  margin:8px 0;
}
</style>
</head>

<body>

<header>‚úà Nandi Travel AI</header>

<div class="container">

<!-- CART / ITINERARY -->
<div id="cart">
  <h3>üõí Itinerary</h3>
  <div id="cartItems">No items added</div><br>
  <button onclick="saveDraft()">Save Draft</button>
  <button onclick="loadDraft()">Load Draft</button>
  <button onclick="exportPDF()">Export PDF</button>
</div>

<!-- MAIN -->
<div id="main">

<div id="chatArea">
  <div class="msg bot">
    Hi üëã I‚Äôm your travel assistant.<br><br>
    Use chat or click <b>+</b> to search Flights or Hotels.
  </div>

  <!-- FLIGHTS -->
  <div id="flightPanel" class="panel">
    <h3>‚úà Flights</h3>
    <input placeholder="From city"><br><br>
    <input placeholder="To city"><br><br>
    <input type="date"><br><br>
    <input type="date"><br><br>
    <select>
      <option>Economy</option>
      <option>Business</option>
      <option>First</option>
    </select><br><br>
    <button onclick="showFlights()">Search Flights</button>
    <div id="flightResults"></div>
  </div>

  <!-- HOTELS -->
  <div id="hotelPanel" class="panel">
    <h3>üè® Hotels</h3>
    <input placeholder="City"><br><br>
    <input type="date"><br><br>
    <input type="date"><br><br>
    <select>
      <option>3 Star</option>
      <option>4 Star</option>
      <option>5 Star</option>
    </select><br><br>
    <button onclick="showHotels()">Search Hotels</button>
    <div id="hotelResults"></div>
  </div>

</div>

<div id="inputBar">
  <input id="chatInput" placeholder="Type your message‚Ä¶">
  <button onclick="sendMsg()">Send</button>
</div>

</div>
</div>

<!-- PLUS MENU -->
<button id="plusBtn">+</button>
<div id="toolMenu">
  <button onclick="openFlights()">Flights</button>
  <button onclick="openHotels()">Hotels</button>
</div>

<script>
const chatArea=document.getElementById("chatArea");
const flightPanel=document.getElementById("flightPanel");
const hotelPanel=document.getElementById("hotelPanel");
const toolMenu=document.getElementById("toolMenu");
const cartItems=document.getElementById("cartItems");

let cart=[];

function botReply(t){
  const d=document.createElement("div");
  d.className="msg bot";
  d.innerHTML=t.replace(/\n/g,"<br>");
  chatArea.appendChild(d);
  chatArea.scrollTop=chatArea.scrollHeight;
}

function userMsg(t){
  const d=document.createElement("div");
  d.className="msg user";
  d.innerText=t;
  chatArea.appendChild(d);
}

function sendMsg(){
  const i=document.getElementById("chatInput");
  if(!i.value) return;
  userMsg(i.value);
  botReply(
    "Sure üëç\n\n" +
    "You can:\n" +
    "‚Ä¢ Search flights or hotels using +\n" +
    "‚Ä¢ Add results to itinerary\n" +
    "‚Ä¢ Export everything as PDF\n\n" +
    "What would you like to do?"
  );
  i.value="";
}

document.getElementById("plusBtn").onclick=()=>{
  toolMenu.style.display = toolMenu.style.display==="block"?"none":"block";
};

function openFlights(){
  toolMenu.style.display="none";
  flightPanel.style.display="block";
  hotelPanel.style.display="none";
  botReply("Let‚Äôs search flights ‚úà");
}

function openHotels(){
  toolMenu.style.display="none";
  hotelPanel.style.display="block";
  flightPanel.style.display="none";
  botReply("Let‚Äôs search hotels üè®");
}

function showFlights(){
  const r=document.getElementById("flightResults");
  r.innerHTML="";
  ["Air India","IndiGo","Vistara","Akasa","BA","Lufthansa"].forEach(a=>{
    r.innerHTML+=`
      <div class="card">
        ${a} ‚Äì ‚Çπ25,000 (GST incl)
        <button onclick="addCart('Flight: ${a}')">Add</button>
      </div>`;
  });
}

function showHotels(){
  const r=document.getElementById("hotelResults");
  r.innerHTML="";
  ["Taj","ITC","Marriott","Hyatt","Hilton","Novotel"].forEach(h=>{
    r.innerHTML+=`
      <div class="card">
        ${h} ‚Äì ‚Çπ6,000/night
        <button onclick="addCart('Hotel: ${h}')">Add</button>
      </div>`;
  });
}

function addCart(i){
  cart.push(i);
  renderCart();
}

function renderCart(){
  cartItems.innerHTML = cart.length
    ? cart.map(i=>"‚Ä¢ "+i).join("<br>")
    : "No items added";
}

function saveDraft(){
  localStorage.setItem("nandiDraft",JSON.stringify(cart));
  botReply("‚úÖ Draft saved.");
}

function loadDraft(){
  const d=localStorage.getItem("nandiDraft");
  if(d){cart=JSON.parse(d);renderCart();}
}

function exportPDF(){
  const w=window.open("");
  w.document.write("<h1>Nandi Travel AI ‚Äì Itinerary</h1>");
  cart.forEach(i=>w.document.write("<p>"+i+"</p>"));
  w.document.write("<p>GST Included</p>");
  w.print();
}
</script>

</body>
</html>
